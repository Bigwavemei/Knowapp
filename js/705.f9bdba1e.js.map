{"version":3,"file":"js/705.f9bdba1e.js","mappings":"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","sources":["webpack://webapp1/./src/views/Contpage.vue?d4ee","webpack://webapp1/src/views/Contpage.vue","webpack://webapp1/./src/views/Contpage.vue?2c7c","webpack://webapp1/./src/views/Contpage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contpage\"},[_c('div',{staticClass:\"cont-bar\"},[_c('p',[_vm._v(_vm._s(_vm.title))]),_c('img',{attrs:{\"src\":_vm.urlImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"topbar\",domProps:{\"innerHTML\":_vm._s(_vm.msg)}},[_vm._v(\" \"+_vm._s(_vm.msg)+\" \")]),_c('div',{staticClass:\"fot\"},[_c('van-goods-action',{staticClass:\"fot-son\"},[_c('van-goods-action-icon',{staticClass:\"fot-son-box\",attrs:{\"icon\":\"arrow-left\",\"color\":\"#646566\"},on:{\"click\":_vm.goPre}}),_c('div',{staticClass:\"font-box\"}),_c('van-goods-action-icon',{staticClass:\"fot-son-box\",attrs:{\"icon\":\"chat-o\",\"color\":\"#646566\",\"badge\":_vm.legs},on:{\"click\":_vm.comment}}),_c('van-goods-action-icon',{staticClass:\"fot-son-box\",attrs:{\"icon\":\"good-job-o\",\"color\":_vm.isNice ? '#e4393c' : '#646566',\"badge\":_vm.popularity},on:{\"click\":function($event){return _vm.niceProduct(_vm.niceStr)}}}),_c('van-goods-action-icon',{staticClass:\"fot-son-box\",attrs:{\"icon\":\"like\",\"color\":_vm.isLike ? '#e4393c' : '#646566'},on:{\"click\":function($event){return _vm.likeProduct(_vm.likeStr)}}}),_c('van-goods-action-icon',{staticClass:\"fot-son-box\",attrs:{\"icon\":\"share-o\",\"color\":\"#646566\"},on:{\"click\":_vm.share}})],1),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},on:{\"select\":_vm.onSelect},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contpage\">\r\n      <!-- <div class=\"fot\">\r\n          <button @click=\"goPre\">返回</button>\r\n      </div> -->\r\n      <div class=\"cont-bar\">\r\n          <p>{{title}}</p>\r\n        <img :src=\"urlImg\" alt=\"\">\r\n      </div>\r\n      <div v-html=\"msg\" class=\"topbar\">\r\n          {{msg}}\r\n      </div>\r\n         \r\n      <div class=\"fot\">\r\n       \r\n         <van-goods-action class=\"fot-son\">\r\n             <van-goods-action-icon class=\"fot-son-box\"  icon=\"arrow-left\"  color=\"#646566\" @click=\"goPre\" />\r\n             <div class=\"font-box\"></div>\r\n             <van-goods-action-icon class=\"fot-son-box\"  icon=\"chat-o\"  color=\"#646566\"  @click=\"comment\" :badge=\"legs\"/>\r\n            <van-goods-action-icon  class=\"fot-son-box\" icon=\"good-job-o\"  :color=\"isNice ? '#e4393c' : '#646566'\" :badge=\"popularity\" @click=\"niceProduct(niceStr)\"/>\r\n            <van-goods-action-icon  class=\"fot-son-box\" icon=\"like\"  :color=\"isLike ? '#e4393c' : '#646566'\" @click=\"likeProduct(likeStr)\" />\r\n            <van-goods-action-icon  class=\"fot-son-box\" icon=\"share-o\"  color=\"#646566\" @click=\"share\"/>\r\n        </van-goods-action>\r\n         <van-share-sheet\r\n                v-model=\"showShare\"\r\n                title=\"立即分享给好友\"\r\n                :options=\"options\"\r\n                @select=\"onSelect\"\r\n                />\r\n      \r\n\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'contpage',\r\n    data(){\r\n        return{\r\n            msg:'',\r\n            urlImg:'',\r\n            title:'',\r\n            active:'',\r\n            //是否收藏\r\n            isLike: false,\r\n            isNice: false,\r\n            likeName:'',\r\n            niceName:'',\r\n            // pgeId:'',\r\n            // likeArr:[],\r\n            likeStr:{},\r\n            niceStr:{},\r\n            popularity:'',\r\n            legs:'',\r\n            showShare: false,\r\n                options: [\r\n                    [\r\n                    { name: '微信', icon: 'wechat' },\r\n                    { name: '朋友圈', icon: 'wechat-moments' },\r\n                    { name: '微博', icon: 'weibo' },\r\n                    { name: 'QQ', icon: 'qq' },\r\n                    ],\r\n                    [\r\n                    { name: '复制链接', icon: 'link' },\r\n                    { name: '分享海报', icon: 'poster' },\r\n                    { name: '二维码', icon: 'qrcode' },\r\n                    { name: '小程序码', icon: 'weapp-qrcode' },\r\n                    ],\r\n                ],\r\n        }\r\n    },\r\n    created(){\r\n        let likeArr = JSON.parse(localStorage.getItem('like')) || [];\r\n        let niceArr = JSON.parse(localStorage.getItem('nice')) || [];\r\n        // console.log(this.$route.params.id);\r\n        let id = this.$route.params.id\r\n        for(let i = 0;i<likeArr.length;i++){\r\n            if(likeArr[i].id === id){\r\n                this.isLike = true\r\n            }\r\n        }\r\n        for(let i = 0;i<niceArr.length;i++){\r\n            if(niceArr[i].id === id){\r\n                this.isNice = true\r\n            }\r\n        }\r\n        if(!id){\r\n            this.$router.go(-1)\r\n        }\r\n        this.likeStr.id = id\r\n        this.niceStr.id = id\r\n        // https://apis.netstart.cn/zhihudaily/story/9741200\r\n        // 加载内容\r\n         this.axios({\r\n             method:'get',\r\n             url:`https://apis.netstart.cn/zhihudaily/story/${id}`\r\n         }).then(result =>{\r\n            //  console.log(result);\r\n             return result.data.story\r\n         }).then(res=>{\r\n            //  console.log(res);\r\n             this.msg = res.body\r\n             this.urlImg = res.image\r\n             this.title = res.title\r\n             this.likeStr.urlImg = res.images[0]\r\n             this.likeStr.title = res.title\r\n         })\r\n         .catch(err=>{\r\n            //  console.log(err);\r\n         })\r\n        //  人气\r\n         this.axios({\r\n             method:'get',\r\n             url:`https://apis.netstart.cn/zhihudaily/story/${id}/extra`\r\n         }).then(res =>{\r\n            // console.log(res.data.popularity);\r\n            this.popularity = res.data.popularity\r\n            this.niceStr.num = res.data.popularity\r\n         })\r\n         .catch(errr=>{\r\n            //  console.log(errr);\r\n         })\r\n        //  评论\r\n          this.axios({\r\n             method:'get',\r\n             url:`https://apis.netstart.cn/zhihudaily/story/${id}/short-comments`,\r\n         }).then(str=>{\r\n            //  console.log(str.data);\r\n             this.legs = str.data.comments.length\r\n             \r\n         }).catch(err=>{\r\n            //  console.log(err);\r\n         })\r\n    },\r\n\r\n    methods:{\r\n        // 返回上一级\r\n        goPre(){\r\n            this.$router.push({name:'mymain'});\r\n        },\r\n        //收藏或取消收藏商品\r\n        likeProduct(item) {\r\n            this.isLike = !this.isLike\r\n            this.likeName = this.isLike?'收藏成功':'取消收藏'\r\n            this.$toast({message:this.likeName,position: 'bottom',});\r\n            // let _that = this\r\n            // console.log(this.pgeId);\r\n            let likeArr = JSON.parse(localStorage.getItem('like')) || [];\r\n            if(this.isLike){\r\n                let likeRes = {\r\n                    id:item.id,\r\n                    imges:item.urlImg,\r\n                    title:item.title,\r\n                }\r\n                for(let i = 0;i<likeArr.length;i++){\r\n                    if(likeArr[i].id === likeRes.id){\r\n                        return\r\n                    }\r\n                }\r\n                likeArr.push(likeRes)\r\n                // console.log(likeArr);\r\n                localStorage.setItem('like',JSON.stringify(likeArr))\r\n            }else{\r\n                for(let i = 0; i < likeArr.length;i++){\r\n                    if(likeArr[i].id === item.id){\r\n                        likeArr.splice(i,1)\r\n                        // console.log(i);\r\n                    }\r\n                }\r\n                localStorage.setItem('like',JSON.stringify(likeArr))\r\n            }\r\n        },\r\n        // 跳转评论页面\r\n        comment(){\r\n            let id = this.likeStr.id\r\n            // console.log(id);\r\n            this.$router.push({name:'commentpge',params:{id}})\r\n        },\r\n        // 显示分享\r\n        share(){\r\n            this.showShare = true\r\n        },\r\n        onSelect(option) {\r\n            this.$toast(option.name);\r\n            this.showShare = false;\r\n        },\r\n        // 点赞事件\r\n        niceProduct(item){\r\n            this.isNice = !this.isNice\r\n            let niceArr = JSON.parse(localStorage.getItem('nice')) || [];\r\n            this.niceName = this.isNice ? '点赞成功' : '取消点赞'\r\n            this.$toast({message:this.niceName,position: 'bottom',});\r\n            if(this.isNice){\r\n                this.popularity = this.popularity + 1\r\n                let niceRes = {\r\n                    id:item.id,\r\n                    num: this.popularity,\r\n                }\r\n            for(let i = 0;i<niceArr.length;i++){\r\n                if(niceArr[i].id === niceRes.id){\r\n                    return\r\n                }\r\n            }\r\n            \r\n            niceArr.push(niceRes)\r\n            // console.log(niceArr);\r\n            // console.log(niceRes);\r\n            localStorage.setItem('nice',JSON.stringify(niceArr))\r\n        }else{\r\n            this.popularity = this.popularity -1\r\n            for(let i = 0; i < niceArr.length;i++){\r\n                if(niceArr[i].id === item.id){\r\n                    niceArr.splice(i,1)\r\n                    // console.log(i);\r\n                }\r\n            }\r\n            localStorage.setItem('nice',JSON.stringify(niceArr))\r\n        }\r\n        },\r\n\r\n    },\r\n    mounted(){\r\n      \r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('http://news-at.zhihu.com/css/news_qa.auto.css?v=4b3e3');\r\n.contpage{\r\n    width: 100%;\r\n}\r\n// .view-more{}\r\n.van-icon-like{\r\n    height: 40px;\r\n    font-size: 24px;\r\n}\r\n.fot-son{\r\n    width: 100%;\r\n    display: flex;\r\n    // padding-top: 10px;\r\n    .fot-son-box{\r\n        flex: 1;\r\n       \r\n    }\r\n}\r\n.font-box{\r\n    width: 1px;\r\n    background-color: #ddd;\r\n    height: 30px;\r\n}\r\n.fot{\r\n    position: fixed;\r\n    bottom: 0;\r\n    background-color: rgb(212, 208, 208);\r\n    width: 100%;\r\n    // padding: 10px 0 0 0;\r\n}\r\n button{\r\n     padding: 10px 20px;\r\n }\r\n .topbar{\r\n    //  padding-bottom: 30px;\r\n     padding: 50px 0 30px 0;\r\n }\r\n .cont-bar{\r\n     width: 100%;\r\n     height: 260px;\r\n     position: absolute;\r\n\r\n     img{\r\n         display: inline-block;\r\n         width: 100%;\r\n         height: 100%;\r\n     }\r\n     p{\r\n         position: absolute;\r\n         top: 160px;\r\n         color: #fff;\r\n         font-size: 16px;\r\n         font-weight: bold;\r\n         padding-left: 10px;\r\n     }\r\n }\r\n \r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Contpage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Contpage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Contpage.vue?vue&type=template&id=189b8824&scoped=true&\"\nimport script from \"./Contpage.vue?vue&type=script&lang=js&\"\nexport * from \"./Contpage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Contpage.vue?vue&type=style&index=0&id=189b8824&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"189b8824\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","urlImg","domProps","msg","on","goPre","legs","comment","isNice","popularity","$event","niceProduct","niceStr","isLike","likeProduct","likeStr","share","options","onSelect","model","value","callback","$$v","showShare","expression","staticRenderFns","name","active","likeName","niceName","icon","method","url","then","result","res","catch","err","errr","str","methods","message","position","id","imges","likeArr","localStorage","params","num","niceArr","component"],"sourceRoot":""}